{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n//=======Functions for rendering app elements======//\n\nexport function createGalleryMarkup(arr, loader, gallery) {\n    loader.innerHTML = \"\";\n     const galleryMarkup = gallery.insertAdjacentHTML(\"beforeend\", arr.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads})=>{\n        return `<li class=\"gallery__item\">\n        <div class=\"gallery\">\n    <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\"/></a>\n    <a href=\"images/image2.jpg\"><img src=\"images/thumbs/thumb2.jpg\" alt=\"\" title=\"Beautiful Image\"/></a>\n</div>\n\n                    <div class=\"info\">\n                <p class=\"info-item\">\n                    <b>Likes</b>\n                    ${likes}\n                </p>\n                <p class=\"info-item\">\n                    <b>Views</b>\n                    ${views}\n                </p>\n                <p class=\"info-item\">\n                    <b>Comments</b>\n                    ${comments}\n                </p>\n                <p class=\"info-item\">\n                    <b>Downloads</b>\n                    ${downloads}\n                </p>\n            </div>\n           \n        </li>\n        `\n\n     })\n     .join(\"\"));\n\n    const lightbox = new SimpleLightbox(\".gallery a\", {\n        captionsData: \"\",\n        captionDelay: 250,\n    });\n}","//=======Functions for http requests======//\nimport axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { createGalleryMarkup } from \"./render-functions\";\n\nconst API_KEY = \"30786866-3f5d93462a7f9cfec75d687d6\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\n\n\nconst instance = axios.create({\n    baseURL: BASE_URL,\n    \n    params: {\n        key: API_KEY,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    }\n});\n\nexport async function getImagesByQuery (query, loader, gallery) {\n    loader.innerHTML = `<span class=\"loader\"></span>`;\n\n    try {\n      const response =  await instance.get(\"\", {params: {q: query}});\n        console.log(response.data.hits);\n        if (response.data.hits.length === 0) {\n            iziToast.info({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\",\n            });\n        } else {\n            await delay(2000);\n           createGalleryMarkup(response.data.hits, loader, gallery);\n            \n        }\n\n\n    }\n     \n    catch(error) {\n        console.log(error);\n    } \n\n    finally {\n        loader.innerHTML = \"\";\n    }\n};\n\n\n\n\n\nfunction delay (ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms))\n};","//=========import libs========//\nimport axios from \"axios\";\n\n\n//=========import functions========//\nimport { getImagesByQuery } from \"./js/pixabay-api\";\n\n//=======Getting access to elements======//\n\n\nconst searchField =document.querySelector(\"[name='search-text']\");\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery-list\");\nconst loader = document.querySelector(\".loader-space\");\n\n\nlet queryRequest = \"\";\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const query = searchField.value.trim();\n    console.log(queryRequest);\n\n    if (query ===\"\") {\n        \n        console.log (\"Please enter a search query\");   \n        \n    } else if (query !== queryRequest) {\n        queryRequest = query;\n        gallery.innerHTML = \"\";   \n        getImagesByQuery(queryRequest, loader, gallery);\n        \n    }\n\n\n    \n    form.reset();\n    \n\n});\n\n\n\n\n\n\n"],"names":["createGalleryMarkup","arr","loader","gallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","API_KEY","BASE_URL","instance","axios","getImagesByQuery","query","response","iziToast","delay","error","ms","resolve","searchField","form","queryRequest","event"],"mappings":"owBAKO,SAASA,EAAoBC,EAAKC,EAAQC,EAAS,CACtDD,EAAO,UAAY,GACIC,EAAQ,mBAAmB,YAAaF,EAAI,IAAI,CAAC,CAAC,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAClI;AAAA;AAAA,eAEAL,CAAa,eAAeD,CAAY,UAAUE,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAO/DC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAOzB,EACA,KAAK,EAAE,CAAC,EAEO,IAAIC,EAAe,aAAc,CAC9C,aAAc,GACd,aAAc,GACtB,CAAK,CACL,CCpCA,MAAMC,EAAU,qCACVC,EAAW,2BAIXC,EAAWC,EAAM,OAAO,CAC1B,QAASF,EAET,OAAQ,CACJ,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACL,CAAC,EAEM,eAAeI,EAAkBC,EAAOf,EAAQC,EAAS,CAC5DD,EAAO,UAAY,+BAEnB,GAAI,CACF,MAAMgB,EAAY,MAAMJ,EAAS,IAAI,GAAI,CAAC,OAAQ,CAAC,EAAGG,CAAK,CAAC,CAAC,EAC3D,QAAQ,IAAIC,EAAS,KAAK,IAAI,EAC1BA,EAAS,KAAK,KAAK,SAAW,EAC9BC,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,UAC1B,CAAa,GAED,MAAMC,EAAM,GAAI,EACjBpB,EAAoBkB,EAAS,KAAK,KAAMhB,EAAQC,CAAO,EAK7D,OAEKkB,EAAO,CACT,QAAQ,IAAIA,CAAK,CACpB,QAEO,CACJnB,EAAO,UAAY,EACtB,CACL,CAMA,SAASkB,EAAOE,EAAI,CAChB,OAAO,IAAI,QAASC,GAAY,WAAWA,EAASD,CAAE,CAAC,CAC3D,CChDA,MAAME,EAAa,SAAS,cAAc,sBAAsB,EAC1DC,EAAO,SAAS,cAAc,OAAO,EACrCtB,EAAU,SAAS,cAAc,eAAe,EAChDD,EAAS,SAAS,cAAc,eAAe,EAGrD,IAAIwB,EAAe,GACnBD,EAAK,iBAAiB,SAAWE,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMV,EAAQO,EAAY,MAAM,KAAI,EACpC,QAAQ,IAAIE,CAAY,EAEpBT,IAAS,GAET,QAAQ,IAAK,6BAA6B,EAEnCA,IAAUS,IACjBA,EAAeT,EACfd,EAAQ,UAAY,GACpBa,EAAiBU,EAAcxB,EAAQC,CAAO,GAMlDsB,EAAK,MAAK,CAGd,CAAC"}